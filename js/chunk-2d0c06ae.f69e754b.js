(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c06ae"],{4260:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"search"},[e("a-card",{staticStyle:{"margin-bottom":"10px"}},[e("p",{attrs:{slot:"title"},slot:"title"},[e("span",[t._v("流程审批进度历史")])]),e("a-row",{staticStyle:{position:"relative"}},[e("a-table",{ref:"table",attrs:{loading:t.loading,rowKey:"id",dataSource:t.data,pagination:!1}},[e("a-table-column",{attrs:{title:"#",width:"50"},scopedSlots:t._u([{key:"default",fn:function(a,n,i){return[e("span",[t._v(" "+t._s(i+1)+" ")])]}}])}),e("a-table-column",{attrs:{title:"任务名称",dataIndex:"name",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(" "+t._s(a)+" ")])]}}])}),e("a-table-column",{attrs:{title:"处理人",dataIndex:"assignees",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a?e("div",t._l(a,(function(a){return e("span",[a.isExecutor?e("span",{staticStyle:{color:"#00DB00"}},[t._v(t._s(a.username)+" ")]):e("span",{staticStyle:{color:"#999"}},[t._v(t._s(a.username)+" ")])])})),0):t._e()]}}])}),e("a-table-column",{attrs:{title:"审批操作",dataIndex:"deleteReason",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.toString().indexOf("通过")>-1?e("span",{staticStyle:{color:"#00DB00"}},[t._v(t._s(a))]):a.toString().indexOf("驳回")>-1?e("span",{staticStyle:{color:"red"}},[t._v(t._s(a))]):e("span",[t._v(t._s(a))])]}}])}),e("a-table-column",{attrs:{title:"审批意见",dataIndex:"comment",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a))])]}}])}),e("a-table-column",{attrs:{title:"耗时",dataIndex:"duration",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.millsToTime(a)))])]}}])}),e("a-table-column",{attrs:{title:"创建时间",dataIndex:"createTime",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a))])]}}])}),e("a-table-column",{attrs:{title:"完成时间",dataIndex:"endTime",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a))])]}}])}),e("a-table-column",{key:"aaa",attrs:{title:"状态",dataIndex:"endTime",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a?e("span",{staticStyle:{color:"blue"}},[t._v("已办理")]):e("span",{staticStyle:{color:"#999999"}},[t._v("待处理")])]}}])})],1)],1)],1),e("a-tabs",{attrs:{type:"card"},on:{change:t.callback}},[e("a-tab-pane",{key:"1",attrs:{tab:"实时流程图"}},[e("a-card",[e("a-row",{staticStyle:{position:"relative"}},[e("img",{attrs:{src:t.imgUrl}}),t.loadingImg?e("a-spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)],1),t.lcModa?e("a-tab-pane",{key:"2",attrs:{tab:"表单数据"}},[e("a-card",[e(t.lcModa.formComponent,{tag:"component",attrs:{disabled:t.lcModa.disabled,processData:t.lcModa.processData,isNew:t.lcModa.isNew,task:t.lcModa.isTask},on:{afterSubmit:t.afterSub,passTask:function(a){return t.pass(t.lcModa.processData)},backTask:function(a){return t.back(t.lcModa.processData)},close:function(a){t.lcModa.visible=!1,t.lcModa.disabled=!1}}})],1)],1):t._e()],1)],1)},i=[],s=e("b65a"),o=e("9ab6"),l={name:"historic_detail",mixins:[o["a"],s["a"]],props:{procInstId:{type:String,default:"",required:!0},lcModa:{type:Object,required:!1}},data:function(){return{url:{historicFlow:"/actTask/historicFlow/",getHighlightImg:"".concat(window._CONFIG["domianURL"],"/activiti/models/getHighlightImg/")},type:0,loading:!1,loadingImg:!1,data:[],id:"",imgUrl:"",backRoute:""}},created:function(){this.init()},watch:{procInstId:function(t,a){this.init()}},methods:{loadData:function(){},init:function(){this.id=this.procInstId,this.imgUrl=this.url.getHighlightImg+this.id+"?time="+new Date,this.getDataList()},getDataList:function(){var t=this;this.loading=!0,this.getAction(this.url.historicFlow+this.id).then((function(a){t.loading=!1,a.success?(t.data=a.result,a.result&&0!=a.result.length||t.$message.info("未找到该记录审批历史数据,历史数据可能已被删除")):t.$message.error(a.message)}))},handleTableChange:function(t,a,e){Object.keys(e).length>0&&(this.isorter.column=e.field,this.isorter.order="ascend"==e.order?"asc":"desc"),this.ipagination=t},callback:function(t){},afterSub:function(){},pass:function(t){this.$emit("passTask",t)},back:function(t){this.$emit("backTask",t)}}},c=l,r=e("2877"),d=Object(r["a"])(c,n,i,!1,null,null,null);a["default"]=d.exports}}]);